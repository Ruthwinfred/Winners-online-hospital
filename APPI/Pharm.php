
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="meds.css">
    <title>Winners</title>
</head>
<body>
   <!-- navbar -->
        <header id="head">
        <div class="nav">
    
    <div class="cart">
            <img src="img/cart.jpg" radius="36px" alt="">
            <div class="num" style="float:right" >
                <span id="cart-items">0</span>
            </div>              
    </div>
  <button class="btn">Home</button>
  <button class="btn"><a href="about.html">About us</a></button>
  <button class="btn">Services</button>
  <div class="dropdown">
    <button class="dropbtn">Contact us
      <i class="fa fa-caret-down"></i>
    </button>
    <div class="dropdown-content">
      <div class="row">
        <div class="column">
          <h3>Social media platforms</h3>
          <img src="img/fb.png" id="img2" title="Facebook">
          <img src="img/inst.jpg" id="img2" title="Instagram"><br>
          <img src="img/link.jpg" id="img2" title="LinkedIn">
          <img src="img/twit.jpg" id="img2" title="Twiter"><br>
          <img src="img/wect.png" id="img2" title="Wechat">
          <img src="img/ytb.png" id="img2" title="Youtube">
        </div>
        <div class="column">
          <h3>Emails</h3>
          reuwinn@yahoo.com<br>
          ruwinn@yahoo.com<br>
          thywinners@gmail.com
        </div>
        <div class="column">
          <h3>Cell phone</h3>
         +254706044980
      </div>
     </div>
    </div>
  </div>
</header>
    </div> 
    <!-- end of navbar -->
    <!-- header carousel -->
    <!-- main page -->
    <div class="container" id="product-list">
        <div class="row">
            <div class="products" id="products">
                <div class="card" id="product">
                    <div class="product-img">
                        <img src="images/frdeggs.jpg" style="width:50%">
                    </div>
                    <h1 id="name"> Fried eggs</h1>
                    <p class="price"  id="price">Ksh.400.00</p>
                   <button id="add-to-cart" class="add-to-cart" data-id="1">Add to Cart</button>
                </div>
                
                <div class="card" id="product">
                    <div class="product-img">
                        <img src="images/wheat.jpg" style="width:50%">
                    </div>
                    <h1 id="name"> wheat</h1>
                    <p class="price"  id="price">Ksh.250.00</p>
                   <button id="add-to-cart" class="add-to-cart" data-id="2">Add to Cart</button>
                </div>
                <div class="card" id="product">
                    <div class="product-img">
                        <img src="images/vegs.jpg" style="width:50%">
                    </div>
                    <h1 id="name"> Vegetables </h1>
                     <p class="price"  id="price"> Ksh.500.00</p>
                    <button id="add-to-cart" class="add-to-cart" data-id="3">Add to Cart</button>
                </div>
                <div class="card" id="product">
                   <div class="product-img">
                        <img src="images/variet.jpg" style="width:50%">
                    </div>
                    <h1 id="name"> Shrimps</h1>
                    <p class="price"  id="price">Ksh.600.00</p>
                   <button id="add-to-cart" class="add-to-cart" data-id="4">Add to Cart</button>
                </div>
                <div class="card" id="product">
                    <div class="product-img">
                        <img src="images/chic.jpg" style="width:50%">
                    </div>
                    <h1 id="name">Chicken</h1>
                    <p class="price"  id="price">Ksh.300.00</p>
                    <button id="add-to-cart" class="add-to-cart" data-id="5">Add to Cart</button>
                </div>
                
                <div class="card" id="product">
                   <div class="product-img" id="product">
                        <img src="images/tofu.jpg" style="width:50%">
                    </div>
                    <h1 id="name">Tofu</h1>
                    <p class="price" id="price">Ksh.350.00</p>
                    <button id="add-to-cart" class="add-to-cart" data-id="6">Add to Cart</button>
                    </div>
        <div class="card" id="product">
                   <div class="product-img">
                        <img src="images/snails.jpg" style="width:50%">
                    </div>
                    <h1 id="name">Snails</h1>
                    <p class="price"  id="price">Ksh.800.00</p>
                   <button id="add-to-cart" class="add-to-cart" data-id="4">Add to Cart</button>
                </div>
                <div class="card" id="product">
                   <div class="product-img">
                        <img src="images/ms.jpg" style="width:50%">
                    </div>
                    <h1 id="name">Mushroom soup</h1>
                    <p class="price"  id="price">Ksh.650.00</p>
                   <button id="add-to-cart" class="add-to-cart" data-id="4">Add to Cart</button>
                </div>
                <div class="card" id="product">
                   <div class="product-img">
                        <img src="images/dum.jpg" style="width:50%">
                    </div>
                    <h1 id="name">Dumplings</h1>
                    <p class="price"  id="price">Ksh.150.00</p>
                   <button id="add-to-cart" class="add-to-cart" data-id="4">Add to Cart</button>
                </div>
                <div class="card" id="product">
                   <div class="product-img">
                        <img src="images/fr.jpg" style="width:50%">
                    </div>
                    <h1 id="name">Festive rice</h1>
                    <p class="price"  id="price">Ksh.200.00</p>
                   <button id="add-to-cart" class="add-to-cart" data-id="4">Add to Cart</button>
                </div><div class="card" id="product">
                   <div class="product-img">
                        <img src="images/rbs.jpg" style="width:50%">
                    </div>
                    <h1 id="name">Rice balls</h1>
                    <p class="price"  id="price">Ksh.250.00</p>
                   <button id="add-to-cart" class="add-to-cart" data-id="4">Add to Cart</button>
                </div>
                <div class="card" id="product">
                   <div class="product-img">
                        <img src="images/msr.jpg" style="width:50%">
                    </div>
                    <h1 id="name">Mushroom stew</h1>
                    <p class="price"  id="price">Ksh.650.00</p>
                   <button id="add-to-cart" class="add-to-cart" data-id="4">Add to Cart</button>
                </div>
            </div>
</div>
        <br>
        <hr>
        <br>
        <h1 id="h1">Your order</h1>
        <br>
        <div id="shopping-cart" style="float:center">
            <table id="cart-content" class="u-full-width">
                <thead>
                    <tr>
                        <th>Image</th>
                        <th>Name</th>
                        <th>Price</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                    </tr>
                </tbody>
            </table>
    </div>
       
    </div>

   

    <script>
            var products= document.getElementById('products');
            var product = document.getElementById('product');
            var cartItems= document.getElementById('cart-items');
            var shoppingCartContent = document.querySelector('#cart-content tbody');

            loadEventListeners();

            function loadEventListeners(){
                //when new products is added
                products.addEventListener('click', buyProduct);

            function buyProduct(event){
                if(event.target.classList.contains('add-to-cart')){
                    //read the product value
                const product = event.target.parentElement;
                    getProductInfo(product);
                }
            }}
            function getProductInfo(product) {
                //create an Object with product data
                var productInfo = {
                            image: product.querySelector('img').src,
                            name: product.querySelector('#name').textContent,
                            price: product.querySelector('#price').textContent,
                            id: product.querySelector('button').getAttribute('data-id')
                        }
                addToCart(productInfo);
            }

            function addToCart(productInfo){
                const row = document.createElement('tr');

                row.innerHTML = `
            <tr>
                <td>
                    <img src="${productInfo.image}" width="100">    
                </td>
                <td>
                    ${productInfo.name}
                </td>
                <td>
                    ${productInfo.price}
                </td>
            </tr>
            `
                ;
                var count = shoppingCartContent.rows.length;
                for(i=0;i<=count; i++){
                cartItems.innerHTML = i;
                }
                shoppingCartContent.appendChild(row);
            }

    
    
    </script>
</body>
</html>